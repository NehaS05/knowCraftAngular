<form [formGroup]="userForm" (ngSubmit)="onSubmit()">
  <div class="form-row">
    <div class="form-group">
      <label for="firstName">First Name</label>
      <input 
        type="text" 
        id="firstName" 
        formControlName="firstName"
        [class.error]="isFieldInvalid('firstName')"
        placeholder="Enter first name">
      <div class="error-message" *ngIf="isFieldInvalid('firstName')">
        First name is required
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input 
        type="text" 
        id="lastName" 
        formControlName="lastName"
        [class.error]="isFieldInvalid('lastName')"
        placeholder="Enter last name">
      <div class="error-message" *ngIf="isFieldInvalid('lastName')">
        Last name is required
      </div>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group">
      <label for="email">Email</label>
      <input 
        type="email" 
        id="email" 
        formControlName="email"
        [class.error]="isFieldInvalid('email')"
        placeholder="Enter email address">
      <div class="error-message" *ngIf="isFieldInvalid('email')">
        <span *ngIf="userForm.get('email')?.errors?.['required']">Email is required</span>
        <span *ngIf="userForm.get('email')?.errors?.['email']">Please enter a valid email</span>
      </div>
    </div>

    <div class="form-group">
      <label for="username">Username</label>
      <input 
        type="text" 
        id="username" 
        formControlName="username"
        [class.error]="isFieldInvalid('username')"
        placeholder="Enter username">
      <div class="error-message" *ngIf="isFieldInvalid('username')">
        Username is required
      </div>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group">
      <label for="phoneNumber">Phone Number</label>
      <input 
        type="tel" 
        id="phoneNumber" 
        formControlName="phoneNumber"
        [class.error]="isFieldInvalid('phoneNumber')"
        placeholder="Enter phone number">
      <div class="error-message" *ngIf="isFieldInvalid('phoneNumber')">
        Phone number is required
      </div>
    </div>

    <div class="form-group">
      <label for="roleId">Role</label>
      <select 
        id="roleId" 
        formControlName="roleId"
        [class.error]="isFieldInvalid('roleId')">
        <option value="">Select a role</option>
        <option *ngFor="let role of roles" [value]="role.id">{{ role.name }}</option>
      </select>
      <div class="error-message" *ngIf="isFieldInvalid('roleId')">
        Role is required
      </div>
    </div>
  </div>

  <div class="form-group" *ngIf="!isEditMode">
    <label for="password">Password</label>
    <input 
      type="password" 
      id="password" 
      formControlName="password"
      [class.error]="isFieldInvalid('password')"
      placeholder="Enter password">
    <div class="error-message" *ngIf="isFieldInvalid('password')">
      <span *ngIf="userForm.get('password')?.errors?.['required']">Password is required</span>
      <span *ngIf="userForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters</span>
    </div>
  </div>

  <div class="form-group" *ngIf="isEditMode">
    <label class="checkbox-label">
      <input 
        type="checkbox" 
        formControlName="isActive">
      <span class="checkmark"></span>
      Active User
    </label>
  </div>

  <div class="form-actions">
    <button type="button" class="cancel-btn" (click)="onCancel()">Cancel</button>
    <button type="submit" class="submit-btn" [disabled]="userForm.invalid">
      {{ isEditMode ? 'Update User' : 'Add User' }}
    </button>
  </div>
</form>